### 更新日志 <!-- {docsify-ignore} -->

#### 下一个版本计划
  - 停止更新公告
    + 因日服会战变动，项目整体重构中，预计花费时间较长，在此期间不会 添加 | 维护 任何 新功能 | bug
    + 开发画面仅供参考，还请以实际效果为主

  ![咕咕咕](../public/images/demo/dev.png)

> とある咕咕の更新日志

#### 0.6.1 (2021.05.18)
- update 
  + ~~一天更新两个版本，不愧是我~~
  + 数据库字段更新，添加角色昵称表
  + 新增猜头像 beta ~~未经过高强度测试，不保证稳定性~~
- change
  + 更新 webhook ，现在只监听 master 分支推送
- add bug
  + 修复 hitokoto 偶尔 404 没有任何反馈的问题

#### 0.6.0 (2021.05.18)
- update
  + 关于我不小心更新太多被迫跨版本号这档事
  + 项目整体重构，移除所有 plugin 的 class
  + 更新涩图模块，优化 http 图片处理，由 binary 变更为 base64
  + 更新买药模块，新增游戏服务器时区切换
  + 更新 chat 词库与戳一戳交互
  + 更新五子棋模块，新增投降、悔棋
  + 更新网抑云模块，新增主动触发
  + 更新搜图模块，格式化搜索字段
  + 更新 bilibili 模块，优化动态监听处理逻辑，修复无法发送专栏动态的 bug
  + 更新会战模块，日服会战兼容
  + 更新权限管理，新增等级制度，会根据群成员的活跃度自动分配等级
  + 更新申请头衔模块，新增等级限制
- change
  + 优化 rank 表发送逻辑，解决偶尔无法发送图片的问题
  + 优化群事件处理逻辑
  + 优化 sql 语句，分离 api 请求
  + 重写 bot create 实例，可实现多账号管理
  + 项目结构变更，tools 分离至 utils
  + 优化配置文件逻辑，在 bot 成功登录时自动完成校验
  + 优化插件加载逻辑，新增插件异常处理
  + 优化修改配置文件的语法糖逻辑
  + 数据库重构，整合并移除本地 unit 文件
  + 重写 http https 处理函数，新增 method 处理
  + 修复 bug 若干，增加稳定性，移除冗余代码
- add bug
  + 因兼容日服会战，现预约 boss，暂时无法主动 at 成员
  + 因数据库结构变动较大，逻辑全部重写，会战挂树相关暂时移除
  + 原 0.5.x 及以下版本配置文件及数数据库不会向上兼容

</br>

#### 0.5.2 (2021.04.12)
- code change
  + 优化稳定性
  + 优化 api.yml 结构
  + 优化 cmd.yml 正则语句
  + 现在 saucenao 模块将默认关闭
- fix bug
  + 修复 hitokoto 因错误参数导致的异常
- bulletin
  + 项目开始整体迁移至 typescript，预计一个月左右不会有更新

#### 0.5.1 (2021.04.09)
- update
  + 重构会战模块
  + 重构动态监听
- change
  + 修改数据库部分字段
- bug
  + 不小心上传了敏感信息，手滑将所有 commit 信息回滚

#### 0.5.0 (2021.03.29)
- update
  + 性能优化
  + 优化一言代码逻辑
  + 五子棋添加悔棋功能
  + 现在添加新插件将自动更新群 yml
- change
  + 仓库名变更为 yumemi_bot ~~package.json 老是提示我语法错误，强迫症害死人~~
  + 现在 bilibili 监听默认关闭
- bug
  + 修复动态监听偶尔抛 error 的问题

</br>

#### 0.4.5 (2021.03.24)
  - update
    + 重构涩图模块
  - change
    + 移除 acgmx api 的支持 ~~acgmx 发的图都太涩了~~
  - bug
    + 解决 webhook 排版错误的问题 ~~这也算 bug ？~~

#### 0.4.4 (2021.03.23)
  - update
    + 添加每日一言 ~~生不出人我很抱歉~~
    + 添加 groups 群聊数据自动校验
    + 添加 bot 自动同意加群及好友申请
  - change
    + 优化项目逻辑
    + 优化 command.yml 结构
  - bug
    + 移除 mirai-ts 时期的废弃代码
    + 修复 plugin 目录下不存在 index.js 抛出异常的问题

#### 0.4.3 (2021.03.20)
- update
  + 添加图片搜索
  + 优化权限管理
- change
  + web 部分变量分离至 bot.yml

#### 0.4.2 (2021.03.16)
- update
  + 添加聊天模块
  + 添加戳一戳互动
- change
  + 封印防撤回功能 ~~这玩意太阴间了，要尊重别人的隐私~~

#### 0.4.1 (2021.03.13)
- update
  + 更新会战模块
    - 优化数据修改逻辑
    - 优化预约查询逻辑
- bug
  + 修复因跨日刀导致会战数据异常的问题
  + 修复会战数据自动回滚的问题

#### 0.4.0 (2021.03.10)
- update
  + 重构会战模块
    - 添加挂树功能
    - 添加查树功能
    - 添加代报功能
    - 添加中止会战功能
- change
  + 项目初步完成整体重构
  + 数据库整体重构，SQL 重写
  + yml 配置文件结构优化
  + 优化 tools 方法类
  + express 框架更换为 koa
- bug
  + 修复 web 页面偶尔登录异常的问题
  + 修复 bilibili 监听异常的问题
  + 修复 http 请求超时无响应的问题

</br>

#### 0.3.6 (2021.03.03)
  - update
    + 添加 bilibili 动态监听模块
    + 添加五子棋模块
    + 会战模块添加国服公会排名查询
  - bug
    + 代码性能优化 & 数据修正
    + 修复加入新群聊 pluginSettings 丢失的问题

#### 0.3.5 (2021.02.08)
  - update
    + 重构色图
      - 本地存储图片，优化发送速度
      - 多 api 支持（acgmx、lolicon）
      - 增加每日色图获取上限及小黑屋功能
  - change
    + 优化大量代码及原插件兼容
    + 封装 http、schedule 至 tools.js
    + 优化 plugin 必须传入 settings 对象的约束
  - bug
    + 修复 lolicon api 301 跳转的错误
    + 优化 buy 多余的 for 循环操作

#### 0.3.4 (2021.01.22)
  - update
    + 优化数据库结构
    + 优化 sql 函数，简化大量重复调用

#### 0.3.3 (2021.01.18)
  - update
    + 添加 GitHub webhook 推送

#### 0.3.2 (2021.01.16)
  - update
    + 添加 web 后台青春版
  - bug
    + 修复了 reservations.yml 生成异常的错误
  
#### 0.3.1 (2021.01.09)
  - update
    + 添加 SQLite 初步完成会战重构 ~~MongoDB：所以爱是会消失的对么？~~
  - change
    + 项目仓库开源
  - bug
    + 修复会战因异步导致数值异常的问题

#### 0.3.0 (2021.01.01)
  - change
    + 项目结构大大大改 ~~别改了别改了~~
    + 新增 yml 配置文件自动生成与校验
    + 优化 qq 登录校验，设备锁、验证码监听
    + 优化模块引入逻辑，现在将自动加载无需手动引入

</br>

#### 0.2.6 (2020.12.15)
  - change
    + 优化权限管理逻辑

#### 0.2.5 (2020.11.26)
  - update
    +  添加模块参数修改
  - update
    + 简化项目结构，移除 mirai-ts 时期的废弃代码

#### 0.2.4 (2020.11.11)
  - change
    + 优化代码逻辑
    + 支持参数热更新（修改参数后无需重启 bot）

#### 0.2.3 (2020.10.31)
  - update
    + 添加群管提示（欢迎新人、关小黑屋、塞口球...等）
  - bug
    + 修复 schedule 鬼畜触发的 bug

#### 0.2.2 (2020.10.30)
  - update
    + 添加多群权限管理
    + 添加 rank 一图流查询
    + 添加群内头衔申请
    + 买药小助手支持图片发送

#### 0.2.1 (2020.10.21)
  + bug
    - 修复了 lolicon 请求 301 跳转的报错

#### 0.2.0 (2020.10.19)
  - change
    + 框架由 mirai-ts 移植至 oicq ~~你他喵的有完没完啊 kora~~

</br>

#### 0.1.8 (2020.10.02)
  - update
    + 更新扭蛋模块，支持图片发送，支持日、台服卡池切换 ~~代码写好了但是卡池数据没录 2333~~

#### 0.1.7 (2020.09.29)
  - update
    + 更新色图模块，添加 tag 搜索，支持闪图发送， ~~求生欲极强~~

#### 0.1.6 (2020.09.21)
  - update
    + 重构买药助手，暂不支持图片发送

#### 0.1.5 (2020.09.15)
  - update
    + 重构会战报刀，添加预约功能

#### 0.1.4 (2020.08.29)
  - change
    + 项目结构调整
    + 添加 YAML 配置文件
    + 代码性能优化
    + 将仓库由 Github 迁移至 Gitee 以便提升国内访问速度 ~~广电是我永远的噩梦~~
  - bug
    + 修复加入多个群聊未响应的问题 ~~话说真的需要做多群管理么，反正也没外人用~~

#### 0.1.3 (2020.08.28)
  - update
    + 添加会战模块，目前进支持报刀，数据存储在 JSON 中，日后会逐渐完善 ~~能用 JSON 干嘛要用 BD~~

#### 0.1.2 (2020.08.24)
  - update
    + 重构色图模块，暂不支持图片发送

#### 0.1.1 (2020.08.18)
  - update
    + 重构扭蛋模块，暂不支持图片发送

#### 0.1.0 (2020.08.14)
  - change
    + ~~框架都换了跨个版本号不过分吧~~
    + koishi v2 的 doc 老咕咕咕了，更新后 config 结构都变了，项目都跑不起来，坑太多了 ~~我太菜了，面向源码编程~~ ，移植至 mirai-ts

</br>

#### 0.0.5 (2020.08.13)
  - update
    + 添加扭蛋十连，目前只有文字模式

#### 0.0.4 (2020.08.10)
  - change
    + 重构项目逻辑，优化代码性能
    + 因 pcrdfans key 被回收，移除写到一半的 jjc 代码

#### 0.0.3 (2020.07.29)
  - update
    + 添加买药助手，暂不支持图片发送

#### 0.0.2 (2020.07.28)
  - update
    + 添加色图模块，目前只能发链接，暂不支持图片发送 ~~ghs 才是第一生产力~~

#### 0.0.1 (2020.07.26)
  - change
    + 原项目名为 kokkoro ，基于 nonebot ，现从零开始移植至 koishi ~~js是世界上最好的语言~~